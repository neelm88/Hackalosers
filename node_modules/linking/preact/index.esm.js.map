{"version":3,"file":"index.esm.js","sources":["../src/compose-reduce.ls","../src/setup.ls","../src/preact.ls"],"sourcesContent":["import\n  redux: {combine-reducers}\n  linking: {handle-actions}\n\nfunction compose-reduce reducers\n  wrapped = Object.entries reducers .map ([key, reducer]) ->\n    (key): if typeof reducer == \\function then reducer\n    else handle-actions reducer\n  combine-reducers Object.assign ...wrapped\n\nexport default: compose-reduce\n","import redux : {create-store}\n\nfunction setup {\n  compose-reduce, Component, h, render\n  link-factory, side-effect-factory\n}\n  link = link-factory {Component}\n  link: link, side-effect: side-effect-factory Component\n  start-app: ({reducers, preload, component, env=window, el='#root'}) ->\n    state = preload? env or preload\n    store = create-store (compose-reduce reducers),\n      state, env?__REDUX_DEVTOOLS_EXTENSION__?!\n    container = env?document.query-selector el\n    root = container.first-element-child\n\n    if typeof module != \\undefined && module.hot\n      replace-app = !-> root := render (h (link it), {store}), container, root\n      replace-app component\n      Object.assign {} store, {replace-app} replace-reducer: ->\n        store.replace-reducer compose-reduce it\n    else\n      render (h (link component), {store}), container, root\n      store\n\nexport default: setup\n","import\n  redux: {combine-reducers}\n  preact: {h, Component, render}\n  linking: default: link-factory, side-effect: side-effect-factory\n  \\./compose-reduce : compose-reduce\n  \\./setup : setup\n\n{link, start-app, side-effect} = setup {\n  compose-reduce, h, Component, render\n  link-factory, side-effect-factory\n}\n\nfunction render-vdom {reducers, preload, component}\n  state = preload {} or preload\n  store = create-store (compose-reduce reducers), state\n  h (link component), {store}\n\nexport\n  default: link, link-start: start-app\n  {start-app, link, h, side-effect, render-vdom}\n"],"names":["linkFactory","createStore","render","h"],"mappings":";;;;AAIA,iCACE;;YAAgB,cAAS,UAAS,IAAK,WAAC,cAAD,EACrC;WAAA;aAAU,cAAe,eAAzB,aACoB;;GAFiB,CAAvC;SAGiB,gBAAM,aAAQ,YAAd;;;ACNnB,eAAe;eAAA;yBAAA;SAAA;mBAAA;6BAAA;;CAAf,EAIE;;SAAoBA;;IAApB;SACA;;gBAA6C,+BAA7C;cACW,UAAC;cAAA;aAAA;eAAA;kBAAA;;KAAD,EACT;;cAAqB,gCAAJ,qBAAI,YAArB;cACqBC,cAAgB,uBAAhB,8BACR,iFAA6B,oBADrB,CAArB;gCAEgB,YAAQ,cAAgB,aAAxC;aACgB,2BAAhB;aAEG,aAAc,gBAAc,IAAS,cACtC,aAAc;eAAmBC,UAAGC,KAAM,QAAN,EAAW;;SAAX,CAAH,kBAAf;SACN,uBACN,aAAQ,YAAU;;OAAV,EAAwB;wBAAiB,cACrD;iBAAK,oBAAiB,CAAe,iBAAf;;OADV,MAGPD,UAAGC,KAAM,eAAN,EAAkB;;OAAlB,CAAH;;;;;;;;ACdb;MAAA;UAAA;;IAAuC;eAAA;GAAA;WAAA;QAAA;aAAA;;EAAvC;;AAKA,oBAAqB;UAAA;SAAA;;CAArB,EACE;;UAAgB,WAAG,WAAnB;UACqB,YAAgB,uBAAhB,QAArB;SACE,EAAM,eAAN,EAAkB;;GAAlB;;;;;;"}